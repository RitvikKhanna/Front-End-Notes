<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./reset.css">
  <link rel="stylesheet" href="./style.css">
  <title>JS Info</title>
</head>
<body>
  <header class="header">
    <div class="logo">Basics Summary</div>
    <nav>
      <a href="./index.html">HTML</a>
      <a href="./css-info.html">CSS</a>
      <a href="./js-info.html">JS</a>
    </nav>
  </header>
  <div class="content content-js">
    <div class="content-header">
      <h1 class="content-heading">Javascript</h1>
      <p class="content-subheading">JS - Used to interact with the web page, fetch and modify and how they should be displayed.</p>
    </div>
    <div class="container">
      <h1>Declarations</h1>
      <ul>
        <li><span class="bold">var: </span>Used in older scripts - no longer used. <span class="bold">Doesn't </span> allow block scope</li>
        <li><span class="bold">let: </span>Used now to declare variables. Can contain letters, numbers, $ & _</li>
        <li><span class="bold">const: </span>Used for things that don't need to change or update. Conventionally declared full uppercase</li>
      </ul>
    </div>
    <div class="container">
      <h1>Data Types</h1>
      <ol>
        <li><span class="bold">String: </span>Surround by quotes - ", ', `</li>
        <li><span class="bold">Number: </span>Both int and floating points</li>
        <li><span class="bold">Bigint: </span>When number is out of the usual "number" range</li>
        <li><span class="bold">Boolean: </span>True/False</li>
        <li><span class="bold">Undefined: </span>value not defined</li>
        <li><span class="bold">Null: </span>No value i.e. null</li>
        <li><span class="bold">Symbol</span></li>
        <li><span class="bold">Object</span>
          <ul>
            <li><span class="bold">Object: </span>They are variables too, but instead of one value they can contain multiple values.
              <ul>
                <li>const person = {
                    name = "John",
                    age = 35,
                    isMarried = false
                  }
                </li>
                <li>You can access value of a property by doing - person.name or person["name"]</li>
                <li>Objects can have functions as properties called <span class="bold">methods. </span>You can use <span class="bold">this</span> keyword to access internal properties of the object</li>
              </ul>
            </li>
            <li><span class="bold">Array</span></li>
            <li><span class="bold">Date</span></li>
          </ul>
        </li>
      </ol>
      <br>
      <p><span class="error">Note: When adding number & string - JS treats number as a string. </span></p>
      <br>
      <p><span class="error">Note: We can use typeof to get the data type of something.</span></p>
      <br>
      <p><span class="error">Note: Typeof NaN is a number.</span></p>
    </div>
    <div class="container">
      <h1>"This" Keyword</h1>
      <table>
        <thead>
          <tr>
            <td>Type</td>
            <td>Meaning</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="bold">Object Method</span></td>
            <td><span class="bold">this refers to the object</span></td>
          </tr>
          <tr>
            <td><span class="bold">Alone</span></td>
            <td>this referes to global object</td>
          </tr>
          <tr>
            <td><span class="bold">Function</span></td>
            <td>this refers to global object></td>
          </tr>
          <tr>
            <td><span class="bold">Function (strict mode)</span></td>
            <td>this refers to undefined</td>
          </tr>
          <tr>
            <td><span class="bold">Event</span></td>
            <td>this refers to the element that received</td>
          </tr>
        </tbody>
      </table>
      <p><span class="error">Methods like call(), apply(), and bind() can refer this to any object.</span></p>
    </div>
    <div class="container">
      <h1>Type Casting</h1>
      <p><span class="bold">Change datatype of a value to another</span></p><br>
      <p><span class="error">Coercion: </span>Implicit (automatic)</p><br>
      <p><span class="error">Conversion: </span>Can be implicit (automatic) or explicit (manual)</p><br>
      <img src="./Type conversion chart.png" alt="Type conversion image">
    </div>
    <div class="container">
      <h1>Data Structures</h1>
      <p><span class="bold">Structured Data: </span>JSON</p><br>
      <p><span class="bold">Indexed Collections: </span>Arrays, Typed Arrays</p><br>
      <p><span class="bold"></span></p>
    </div>
    <div class="container">
      <h1>Equality Comparisons</h1>
      <ul>
        <li><span class="bold">==: </span>Equal to</li>
        <li><span class="bold">===: </span>Equal value and type equal</li>
        <li><span class="bold">Object.is: </span>Determines if 2 values are the same value</li>
      </ul><br>
      <p><span class="error">Note: ?? -- Returns first arg if it's not null or undefined otherwise returns the 2nd arg</span></p><br>
      <p><span class="error">Note: ?. -- Returns undefined if an object is undefined or null instead of an error</span></p>
    </div>
    <div class="container">
      <h1>Loops</h1>
      <img src="./Loops.png" alt="Loops Image">
      <h1><br><span class="error">Labels in break/continue</span></h1>
      <img src="./Label - Break_Continue.png" alt="break/continue">
    </div>
    <div class="container">
      <h1>Error Handling</h1>
      <ul>
        <li><span class="bold">Try: </span>Let's you test a block of code</li>
        <li><span class="bold">Catch: </span>Let's you handle the code</li>
        <li><span class="bold">Throw: </span>Let's you create custom errors</li>
        <li><span class="bold">Finally: </span>Let's you execute code regardless of catch outcome</li>
      </ul>
    </div>
    <div class="container">
      <h1>Defining & Calling Functions</h1>
      <p><span class="bold">Defining:</span></p><br>
      <ul>
        <li>JavaScript function declarations are made by using the <span class="bold">function</span> keyword</li>
        <li>Functions can also be defined by saving function expressions to a variable. “Arrow” functions are commonly used in this way</li>
      </ul><br>
      <p><span class="bold">Calling:</span></p><br>
      <ul>
        <li>When a function is defined, it is not yet executed</li>
        <li>To call and invoke a function’s code, use the function’s name followed by parentheses: functionName()</li>
      </ul><br>
      <h1>IIFE - Immediately invoked function expressions</h1>
      <p>Popularly used to create closures and avoid declaring variables in global scope</p>
    </div>
    <div class="container">
      <h1>Arrow Functions</h1>
      <ul>
        <li>let myFunction = (a, b) => a * b;</li>
        <li>hello = () => "Hello World!";</li>
        <li><span class="bold">With Parameters: </span>hello = (val) => "Hello " + val;</li>
        <li><span class="bold">Without Parameters: </span>hello = val => "Hello " + val;</li>
      </ul><br>
      <p><span class="error">Note: JS built in functions can be found <a style="color:#a83242; font-size: 18px; text-decoration: underline;" href="https://www.tutorialspoint.com/javascript/javascript_builtin_functions.htm">here</a></span></p>
    </div>
    <div class="container">
      <h1>Expressions & Operators</h1>
      <img src="./JS Operators.jpg" alt="Operators cheat sheet" style="max-width: 1000px">
    </div>
    <div class="container">
      <h1>Scope & Function Stack</h1>
      <ul>
        <li><span class="bold">Global Scope: </span>The default scope for all code running in script mode</li>
        <li><span class="bold">Module Scope: </span>The scope for code running in module mode</li>
        <li><span class="bold">Function Scope: </span>The scope created with a function</li>
        <li><span class="bold">Block Scope: </span>The scope created with a pair of curly braces (a block)</li>
      </ul>
    </div>
    <div class="container">
      <h1>Explicit Binding</h1>
      <img src="./Explicit Binding.webp" alt="Binding Summary">
    </div>
    <div class="container">
      <h1>Asynchronous JavaScript</h1>
      <p>Asynchronous programming is a technique that enables your program to start a potentially long-running task and still be able to be responsive to other events while that task runs, rather than having to wait until that task has finished. Once that task has finished, your program is presented with the result. Some async functions are:</p><br>
      <ul>
        <li>fetch()</li>
        <li>getUserMedia()</li>
        <li>showOpenFilePicker()</li>
      </ul><br>
      <div class="container" style="background-color: #81b29a">
        <h1>setTimeout()</h1>
        <p>The setTimeout() method calls a function after a number of milliseconds.</p><br>
        <p>const myTimeout = setTimeout(myGreeting, 5000);</p><br>
        <p>Use clearTimeout to remove the timeout -- clearTimeout(myTimeout);</p>
      </div>
      <div class="container" style="background-color: #81b29a">
        <h1>setInterval</h1>
        <p>The setInterval() method helps us to repeatedly execute a function after a fixed delay.</p><br>
        <p><span class="error">Note: Make sure to use clearInterval() otherwise this will run forever</span></p>
      </div>
      <div class="container" style="background-color: #81b29a">
        <h1>Callbacks</h1>
        <p>A callback is a function passed as an argument to another function.</p><br>
        <p><span class="error">Note: When you pass a function as an argument, remember NOT to use parenthesis.</span></p>
      </div>
      <div class="container" style="background-color: #81b29a">
        <h1>Promises</h1>
        <p>A Promise contains both 
          <span class="bold">producing </span>
          (code that takes time) and calls to the
          <span class="bold">consuming </span>
          (code that must wait for result).
        </p><br>
        <p>Promise object has 2 properties - state & result. States are pending, fulfilled & rejected.</p>
        <ul>
          <li><span class="bold">Pending: </span>Result is undefined</li>
          <li><span class="bold">Fulfilled: </span>Result is a result value</li>
          <li><span class="bold">Rejected: </span>Result is an error obj</li>
        </ul><br>
        <p><span class="error">Note: Watch promises and methods video <a href="https://www.youtube.com/watch?v=DHvZLI7Db8E" style="color: #a83242; text-decoration: underline;">here</a></span></p><br>
        <div class="container" style="background-color: #f2cc8f">
          <h1>Async/Await</h1>
          <img src="./Async_Await.png" alt="async await">
        </div>
      </div>
    </div>
    <div class="container">
      <h1>API's - Fetch</h1>
      <p><span class="bold">General syntax: </span>fetch(file).then(msg => msg.text()).then(res => log(res))</p><br>
      <img src="./fetch.png" alt="fetch crud"><br>
      <div class="container">
        <h1>Fetch API Response</h1>
        <p>Below is a result of a fetch api for todos. Script is in the html.</p><br>
        <div id="fetch-result"></div>
      </div>
    </div>
    <div class="container">
      <h1>Classes & Inheritance</h1>
      <p>typeOf(className) is a function. What's happening is that class User {} creates a function named User.</p><br>
      <p><span class="bold">The function code is taken from the constructor</span> (or assumed) empty if we don't write it</p><br>
      <p>Stored class methods such as <span class="bold">sayHi() is stored in User.prototype</span></p><br><br>
      <p><span class="error">How is a class any different than a function?</span></p><br>
      <ul>
        <li><span class="bold">[[IsClassConstructor]]: </span>True for classes - You can't just call User(); It will throw an error</li>
        <li><span class="bold">enumerable: </span>False for all methods in "prototype" - <span class="bold">It's GOOD b/c we don't want class methods in for...in loop</span></li>
        <li>Classes always use <span class="bold">strict</span></li>
      </ul><br>
      <h1>Syntax</h1>
      <div style="display: flex; gap: 50px">
        <img src="./Classes.png" alt="Classes">
        <img src="./Get-Set Classes.png" alt="getters/setters">
      </div>
    </div>
    <div class="container">
      <h1>Modules</h1>
      <p>Application gets bigger -- we want to split it in files called <span class="bold">modules</span></p><br>
      <p>A module may contain a class or a library of functions for a specific purpose</p><br>
      <p>Modules have <span class="bold">import </span>(from other modules) and <span class="bold">export</span> (other modules can use it)</p><br>
      <p>export function sayHi() { . . . } - we can use it in the other module as <span class="bold">import {sayHi} from './sayHi.js' </span></p><br>
      <p><span class="error">Note: "this" is undefined in modules</span></p><br>
      <p><span class="error">Note: "import.meta": </span><span class="error" style="font-weight: normal;">contains current module info. In a browser it contains URL of script, or a current webpage URL inside HTML</span></p>
      <div class="container">
        <h1>TODO</h1>
        <a href="./https://javascript.info/modules">Read more and todo</a>
      </div>
    </div>
  </div>
  <script>
    const resultContainer = document.getElementById('fetch-result');
    const list = document.createElement('ul');
    const printTodos = (todos) => {
      todos.forEach(todo=>{
        let listItem = document.createElement('li');
        listItem.innerHTML = `<span class="bold">Todo: </span>${todo.todo} <br><span class="error">Completed: </span>${todo.completed}<br><br>`
        list.appendChild(listItem)
      })
    };
    async function getTodos() {
      const res = await fetch('https://dummyjson.com/todos?limit=5')
      const data = await res.json()
      console.log(data.todos);
      printTodos(data.todos);
    }
    getTodos()
    resultContainer.appendChild(list);
  </script>
</body>
</html>